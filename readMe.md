      
회원    
- 회원 가입     
- 회원 등급   
- 자체  DB, 외부시스템과 연동     
     
주문과 할인 정책     
- 회원은 상품 주문 O  
- 회원 등급에 따라 할인 적용  
- 할인정책은 모든 VIP 1000원 할인 - 나중에 변경가능   
- 할인정책 변경가능성 high   
   
인터페이스 만들고 구현체를 설계함   
   
클라이언트 -> 회원서비스 -> 메모리 회원 저장소   
   
클래스다이어그램 동적 /   
  
미확정인 할인정책   
클라이언트 --> 회원ID, 상품명, 가격 --> 주문서비스 -> 회원등듭을 가져옴 -> 할인여부 할인정책 역할조회     
=> 클라이언트에게 주문결과 반환      
     
도메인을 역할/ 역할 + 구현으로 그림 나눠그릴 수 있음 
할인정책 유연하게 그려야함 (바꿔끼울 수 있음)  
   
- 주문도메인 클래스 다이어그램   
   
 *역할들의 협력관계를 그대로 재사용할 수 있다.*     

## section 3. 스프링 핵심원리 이해2 - 객체 지향 원리 적용

### 관심사의 분리 
- appconfig를 통해 관심사를 확실하게 분리함
- appconfig는 구현클래스를 선택하고 에플리케이션의 동작에 대한 전체구성을 책임진다.
- serviceImpl은 *기능을 실행하는 책임*만 지면된다. 
- 구현 객체를 생성하고 연결하는 책임

### AppConfig 리팩토링
- new MemoryMemberRepository() 중복을 제거함 => 변경시 한 부분만 변경할 수 있음   
- 역할과 구현클래스가 한눈에 들어와 애플리케이션의 전체구성이 어떻게 되어있는지 빠르게 판단할 수 있음   
- 구성 정보에서 역활과 구현을 명확하게 분리  
- 역활이 잘 드러남
- 중복제거

### 새로운 구조와 할인정책 적용
- AppConfig의 등장으로 애플리케이션을 크게 사용영역과 객체를 생성하고 구성(Configuration)하는 영역으로 분리   
- 구성영역(AppConfig)의 코드만 수정하면 클라이언트 코드인 OrderServiceImpl을 포함한 사용영역의 코드를 변경할 필요없이 할인정책을 변경할 수 있다.

### 좋은 객체지향 설계의 5가지 원칙   
- SRP, DIP, OCP 적용
   
#### SRP 단일책임원칙
- Appconfig 구현을 통해 구현 객체를 생성하고 연결함   
- 클라이언트는 객체를 실행하는 역할만 담당함   

#### DIP 의존관계 역전 원칙
- 추상화에 의존해야지 구체화에 의존해서는 안된다.
- Appconfig가 FixDiscountpolicy 객체 인스턴스를 클라이언트 코드 대신 생성해서 의존관계를 주입해서 DIP 원칙을 지키게됨

#### OCP 개방 패쇄의 원칙   
- 다형성 사용하고 클라이언트가 DIP를 지킴   
- 소프트웨어 요소를 새롭게 확장해도 사용영역의 변경에는 닫혀있다.  






